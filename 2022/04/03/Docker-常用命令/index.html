<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Docker 常用命令 | icetea</title>
  <meta name="author" content="icetea">
  
  <meta name="description" content="一段简短的摘要信息">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Docker 常用命令"/>
  <meta property="og:site_name" content="icetea"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-70812759-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?cb5448498d7169c668b07c2b255d62c1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<meta name="generator" content="Hexo 5.4.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">icetea</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> Docker 常用命令</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  
		 <div class="alert alert-success description">
			<i class="fa fa-info-circle"></i> 一段简短的摘要信息
		 </div> <!-- alert -->
	  		

	  <p>​    Docker是一个开源的应用容器引擎，它让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到安装了任何 Linux 发行版本的机器上。Docker基于LXC来实现类似VM的功能，可以在更有限的硬件资源上提供给用户更多的计算资源。与同VM等虚拟化的方式不同，LXC不属于全虚拟化、部分虚拟化或半虚拟化中的任何一个分类，而是一个操作系统级虚拟化。</p>
<p>Docker是直接运行在宿主操作系统之上的一个容器，使用沙箱机制完全虚拟出一个完整的操作，容器之间不会有任何接口，从而让容器与宿主机之间、容器与容器之间隔离的更加彻底。每个容器会有自己的权限管理，独立的网络与存储栈，及自己的资源管理能，使同一台宿主机上可以友好的共存多个容器。</p>
<p>Docker借助Linux的内核特性，如：控制组（Control Group）、命名空间（Namespace）等，并直接调用操作系统的系统调用接口。从而降低每个容器的系统开销，并实现降低容器复杂度、启动快、资源占用小等特征。</p>
<span id="more"></span>



<p><img src="https://img.doge.sh.cn/assets/1687850699078iijRDhJ1.svg" alt="img"></p>
<h2 id="Docker-镜像"><a href="#Docker-镜像" class="headerlink" title="Docker 镜像"></a>Docker 镜像</h2><p>当运行容器时，使用的镜像如果在本地中不存在，docker 就会自动从 docker 镜像仓库中下载，默认是从 Docker Hub 公共镜像源下载。</p>
<p>下面我们来学 1、管理和使用本地 Docker 主机镜像 2、创建镜像</p>
<h3 id="镜像列表"><a href="#镜像列表" class="headerlink" title="镜像列表"></a>镜像列表</h3><p>我们可以使用 docker images 来列出本地主机上的镜像</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">ubuntu              latest              ccc6e87d482b        4 weeks ago         64.2MB</span><br><span class="line">hello-world         latest              fce289e99eb9        13 months ago       1.84kB</span><br></pre></td></tr></table></figure>

<p>各个选项说明:</p>
<ul>
<li>REPOSITORY：表示镜像的仓库源</li>
<li>TAG：镜像的标签, 同一仓库源可以有多个 TAG，代表这个仓库源的不同个版本</li>
<li>IMAGE ID：镜像ID</li>
<li>CREATED：镜像创建时间</li>
<li>SIZE：镜像大小</li>
</ul>
<h3 id="查找镜像"><a href="#查找镜像" class="headerlink" title="查找镜像"></a>查找镜像</h3><blockquote>
<p>以查找MySQL的镜像为例：</p>
</blockquote>
<ul>
<li><strong>通过Docker Hub 进行查找</strong>, 比如<a target="_blank" rel="noopener" href="https://hub.docker.com/search?q=mysql&type=image">https://hub.docker.com/search?q=mysql&amp;type=image</a></li>
</ul>
<p><img src="https://img.doge.sh.cn/assets/16878507837628r624zAs.png" alt="img"></p>
<ul>
<li><strong>使用 docker search 命令来搜索镜像</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span><br><span class="line">[root@pdai ~]<span class="comment"># docker search mysql</span></span><br><span class="line">NAME                              DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED</span><br><span class="line">mysql                             MySQL is a widely used, open-source relation…   9132                [OK]</span><br><span class="line">mariadb                           MariaDB is a community-developed fork of MyS…   3233                [OK]</span><br><span class="line">mysql/mysql-server                Optimized MySQL Server Docker images. Create…   676                                     [OK]</span><br><span class="line">centos/mysql-57-centos7           MySQL 5.7 SQL database server                   68</span><br><span class="line">mysql/mysql-cluster               Experimental MySQL Cluster Docker images. Cr…   62</span><br><span class="line">centurylink/mysql                 Image containing mysql. Optimized to be link…   61                                      [OK]</span><br><span class="line">deitch/mysql-backup               REPLACED! Please use http://hub.docker.com/r…   41                                      [OK]</span><br><span class="line">bitnami/mysql                     Bitnami MySQL Docker Image                      35                                      [OK]</span><br><span class="line">tutum/mysql                       Base docker image to run a MySQL database se…   34</span><br><span class="line">schickling/mysql-backup-s3        Backup MySQL to S3 (supports periodic backup…   29                                      [OK]</span><br><span class="line">prom/mysqld-exporter                                                              26                                      [OK]</span><br><span class="line">linuxserver/mysql                 A Mysql container, brought to you by LinuxSe…   24</span><br><span class="line">centos/mysql-56-centos7           MySQL 5.6 SQL database server                   19</span><br><span class="line">circleci/mysql                    MySQL is a widely used, open-source relation…   18</span><br><span class="line">mysql/mysql-router                MySQL Router provides transparent routing be…   14</span><br><span class="line">arey/mysql-client                 Run a MySQL client from a docker container      13                                      [OK]</span><br><span class="line">databack/mysql-backup             Back up mysql databases to... anywhere!         10</span><br><span class="line">openshift/mysql-55-centos7        DEPRECATED: A Centos7 based MySQL v5.5 image…   6</span><br><span class="line">fradelg/mysql-cron-backup         MySQL/MariaDB database backup using cron tas…   5                                       [OK]</span><br><span class="line">genschsa/mysql-employees          MySQL Employee Sample Database                  4                                       [OK]</span><br><span class="line">devilbox/mysql                    Retagged MySQL, MariaDB and PerconaDB offici…   2</span><br><span class="line">ansibleplaybookbundle/mysql-apb   An APB <span class="built_in">which</span> deploys RHSCL MySQL                2                                       [OK]</span><br><span class="line">jelastic/mysql                    An image of the MySQL database server mainta…   1</span><br><span class="line">monasca/mysql-init                A minimal decoupled init container <span class="keyword">for</span> mysql    0</span><br><span class="line">widdpim/mysql-client              Dockerized MySQL Client (5.7) including Curl…   0                                       [OK]</span><br></pre></td></tr></table></figure>

<ul>
<li>NAME: 镜像仓库源的名称</li>
<li>DESCRIPTION: 镜像的描述</li>
<li>OFFICIAL: 是否 docker 官方发布</li>
<li>STARS: 类似 Github 里面的 star，表示点赞、喜欢的意思。</li>
<li>AUTOMATED: 自动构建。</li>
</ul>
<h3 id="拉取镜像"><a href="#拉取镜像" class="headerlink" title="拉取镜像"></a>拉取镜像</h3><blockquote>
<p>现在拉取搜索出的MySQL</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker pull mysql</span></span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/mysql</span><br><span class="line">619014d83c02: Pull complete</span><br><span class="line">9ced578c3a5f: Pull complete</span><br><span class="line">731f6e13d8ea: Pull complete</span><br><span class="line">3c183de42679: Pull complete</span><br><span class="line">6de69b5c2f3c: Pull complete</span><br><span class="line">00f0a4086406: Pull complete</span><br><span class="line">84d93aea836d: Pull complete</span><br><span class="line">f18efbfd8d76: Pull complete</span><br><span class="line">012b302865d1: Pull complete</span><br><span class="line">fe16fd240f59: Pull complete</span><br><span class="line">ca3e793e545e: Pull complete</span><br><span class="line">51d0f2cb2610: Pull complete</span><br><span class="line">Digest: sha256:6d0741319b6a2ae22c384a97f4bbee411b01e75f6284af0cce339fee83d7e314</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> mysql:latest</span><br><span class="line">docker.io/library/mysql:latest</span><br><span class="line">[root@pdai ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">mysql               latest              791b6e40940c        2 weeks ago         465MB</span><br><span class="line">ubuntu              latest              ccc6e87d482b        4 weeks ago         64.2MB</span><br><span class="line">hello-world         latest              fce289e99eb9        13 months ago       1.84kB</span><br></pre></td></tr></table></figure>

<h3 id="删除镜像"><a href="#删除镜像" class="headerlink" title="删除镜像"></a>删除镜像</h3><blockquote>
<p>是时候删除那个无聊的hello-world镜像了</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker rmi hello-world</span></span><br><span class="line">Error response from daemon: conflict: unable to remove repository reference <span class="string">&quot;hello-world&quot;</span> (must force) - container c91b90b18884 is using its referenced image fce289e99eb9</span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span><br></pre></td></tr></table></figure>

<p>发现报错了，这时候主要看两点：要么就是container实例存在，要么存在镜像依赖；</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                     PORTS               NAMES</span><br><span class="line">1a51d2f023c9        ubuntu:latest       <span class="string">&quot;/bin/sh -c &#x27;while t…&quot;</span>   2 hours ago         Exited (137) 2 hours ago                       gifted_brown</span><br><span class="line">414bf796cbe4        ubuntu:latest       <span class="string">&quot;/bin/bash&quot;</span>              2 hours ago         Exited (0) 2 hours ago                         pedantic_galileo</span><br><span class="line">512061ebfa4c        ubuntu:latest       <span class="string">&quot;/bin/bash&quot;</span>              2 hours ago         Exited (0) 2 hours ago                         wizardly_brown</span><br><span class="line">aa5e9ae5e5db        ubuntu:latest       <span class="string">&quot;/bin/echo &#x27;Hello wo…&quot;</span>   2 hours ago         Exited (0) 2 hours ago                         affectionate_knuth</span><br><span class="line">c91b90b18884        hello-world         <span class="string">&quot;/hello&quot;</span>                 3 hours ago         Exited (0) 3 hours ago                         admiring_pare</span><br><span class="line">[root@pdai ~]<span class="comment"># docker image inspect --format=&#x27;&#123;&#123;.RepoTags&#125;&#125; &#123;&#123;.Id&#125;&#125; &#123;&#123;.Parent&#125;&#125;&#x27; $(docker image ls -q )</span></span><br><span class="line">[mysql:latest] sha256:791b6e40940cd550af522eb4ffe995226798204504fe495743445b900e417a51</span><br><span class="line">[ubuntu:latest] sha256:ccc6e87d482b79dd1645affd958479139486e47191dfe7a997c862d89cd8b4c0</span><br><span class="line">[hello-world:latest] sha256:fce289e99eb9bca977dae136fbe2a82b6b7d4c372474c9235adc1741675f587e</span><br></pre></td></tr></table></figure>

<p>显然，我们只要删除container即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker rm c91b90b18884</span></span><br><span class="line">c91b90b18884</span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                     PORTS               NAMES</span><br><span class="line">1a51d2f023c9        ubuntu:latest       <span class="string">&quot;/bin/sh -c &#x27;while t…&quot;</span>   2 hours ago         Exited (137) 2 hours ago                       gifted_brown</span><br><span class="line">414bf796cbe4        ubuntu:latest       <span class="string">&quot;/bin/bash&quot;</span>              2 hours ago         Exited (0) 2 hours ago                         pedantic_galileo</span><br><span class="line">512061ebfa4c        ubuntu:latest       <span class="string">&quot;/bin/bash&quot;</span>              2 hours ago         Exited (0) 2 hours ago                         wizardly_brown</span><br><span class="line">aa5e9ae5e5db        ubuntu:latest       <span class="string">&quot;/bin/echo &#x27;Hello wo…&quot;</span>   2 hours ago         Exited (0) 2 hours ago                         affectionate_knuth</span><br></pre></td></tr></table></figure>

<p>最后再来删除镜像吧</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker rmi hello-world</span></span><br><span class="line">Untagged: hello-world:latest</span><br><span class="line">Untagged: hello-world@sha256:9572f7cdcee8591948c2963463447a53466950b3fc15a247fcad1917ca215a2f</span><br><span class="line">Deleted: sha256:fce289e99eb9bca977dae136fbe2a82b6b7d4c372474c9235adc1741675f587e</span><br><span class="line">Deleted: sha256:af0b15c8625bb1938f1d7b17081031f649fd14e6b233688eea3c5483994a66a3</span><br></pre></td></tr></table></figure>

<h3 id="更新镜像"><a href="#更新镜像" class="headerlink" title="更新镜像"></a>更新镜像</h3><blockquote>
<p>针对上述ubuntu的镜像，我们能否在里面安装一些软件，然后重新生成一个镜像呢？这就是更新重新commit出一个新的镜像。</p>
</blockquote>
<p>我们先跑一个ubuntu容器实例，同时在里面进行<code>apt-get update</code>更新</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker run -it ubuntu:latest</span></span><br><span class="line">root@0a1556ca3c27:/<span class="comment"># apt-get update</span></span><br><span class="line">Get:1 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]</span><br><span class="line">Get:2 http://archive.ubuntu.com/ubuntu bionic InRelease [242 kB]</span><br><span class="line">Get:3 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]</span><br><span class="line">Get:4 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [74.6 kB]</span><br><span class="line">Get:5 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages [817 kB]</span><br><span class="line">Get:6 http://archive.ubuntu.com/ubuntu bionic/main amd64 Packages [1344 kB]</span><br><span class="line">Get:7 http://archive.ubuntu.com/ubuntu bionic/multiverse amd64 Packages [186 kB]</span><br><span class="line">Get:8 http://archive.ubuntu.com/ubuntu bionic/restricted amd64 Packages [13.5 kB]</span><br><span class="line">Get:9 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages [11.3 MB]</span><br><span class="line">Get:10 http://security.ubuntu.com/ubuntu bionic-security/restricted amd64 Packages [27.5 kB]</span><br><span class="line">Get:11 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages [7064 B]</span><br><span class="line">Get:12 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages [818 kB]</span><br><span class="line">Get:13 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages [11.1 kB]</span><br><span class="line">Get:14 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages [1345 kB]</span><br><span class="line">Get:15 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages [41.2 kB]</span><br><span class="line">Get:16 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages [1104 kB]</span><br><span class="line">Get:17 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages [4252 B]</span><br><span class="line">Get:18 http://archive.ubuntu.com/ubuntu bionic-backports/main amd64 Packages [2496 B]</span><br><span class="line">Fetched 17.6 MB <span class="keyword">in</span> 10s (1759 kB/s)</span><br><span class="line">Reading package lists... Done</span><br><span class="line">root@0a1556ca3c27:/<span class="comment"># exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<p>此时 ID 为 0a1556ca3c27 的容器，是按我们的需求更改的容器。我们可以通过命令 docker commit 来提交容器副本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker commit -m=&quot;update test&quot; -a=&quot;pdai&quot; 0a1556ca3c27  pdai/ubuntu:v1.0.1</span></span><br><span class="line">sha256:b51e9f5f98cdb5b95c34181148ed7029f0150618aa8cd0e916b10b6aea1bd4c9</span><br></pre></td></tr></table></figure>

<p>可以看到已经生成成功, 且镜像的大小不一样了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">pdai/ubuntu         v1.0.1              b51e9f5f98cd        5 seconds ago       92.1MB</span><br><span class="line">mysql               latest              791b6e40940c        2 weeks ago         465MB</span><br><span class="line">ubuntu              latest              ccc6e87d482b        4 weeks ago         64.2MB</span><br></pre></td></tr></table></figure>

<h3 id="生成镜像"><a href="#生成镜像" class="headerlink" title="生成镜像"></a>生成镜像</h3><blockquote>
<p>那如果是生成一个全新的镜像呢？我们使用命令 docker build ，通过创建一个 Dockerfile 文件，其中包含一组指令来告诉 Docker 如何构建我们的镜像。</p>
</blockquote>
<p>这里特意指定的Base镜像为上一步修改生成的<code>pdai/ubuntu:v1.0.1</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">FROM    pdai/ubuntu:v1.0.1</span><br><span class="line">MAINTAINER      pdai <span class="string">&quot;pdai.tech&quot;</span></span><br><span class="line"></span><br><span class="line">RUN     /bin/<span class="built_in">echo</span> <span class="string">&#x27;root:123456&#x27;</span> |chpasswd</span><br><span class="line">RUN     useradd pdai</span><br><span class="line">RUN     /bin/<span class="built_in">echo</span> <span class="string">&#x27;pdai:123456&#x27;</span> |chpasswd</span><br><span class="line">RUN     /bin/<span class="built_in">echo</span> -e <span class="string">&quot;LANG=\&quot;en_US.UTF-8\&quot;&quot;</span> &gt;/etc/default/<span class="built_in">local</span></span><br><span class="line">EXPOSE  22</span><br><span class="line">EXPOSE  80</span><br><span class="line">CMD     /usr/sbin/sshd -D</span><br></pre></td></tr></table></figure>

<ul>
<li>每一个指令都会在镜像上创建一个新的层，每一个指令的前缀都必须是大写的。</li>
<li>第一条FROM，指定使用哪个镜像源</li>
<li>RUN 指令告诉docker 在镜像内执行命令，安装了什么。。。</li>
<li>我们使用 Dockerfile 文件，通过 docker build 命令来构建一个镜像。</li>
</ul>
<p>接下来生成镜像：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai docker-test]<span class="comment"># docker build -t pdai/ubuntu:v2.0.1 .</span></span><br><span class="line">Sending build context to Docker daemon  2.048kB</span><br><span class="line">Step 1/9 : FROM    pdai/ubuntu:v1.0.1</span><br><span class="line"> ---&gt; b51e9f5f98cd</span><br><span class="line">Step 2/9 : MAINTAINER      pdai <span class="string">&quot;pdai.tech&quot;</span></span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> af026ee229ea</span><br><span class="line">Removing intermediate container af026ee229ea</span><br><span class="line"> ---&gt; 0e961cb557c9</span><br><span class="line">Step 3/9 : RUN     /bin/<span class="built_in">echo</span> <span class="string">&#x27;root:123456&#x27;</span> |chpasswd</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 96bd9c40c55e</span><br><span class="line">Removing intermediate container 96bd9c40c55e</span><br><span class="line"> ---&gt; 9e8549720043</span><br><span class="line">Step 4/9 : RUN     useradd pdai</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 0117278f243c</span><br><span class="line">Removing intermediate container 0117278f243c</span><br><span class="line"> ---&gt; 87c478df56da</span><br><span class="line">Step 5/9 : RUN     /bin/<span class="built_in">echo</span> <span class="string">&#x27;pdai:123456&#x27;</span> |chpasswd</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> e0381eabe71a</span><br><span class="line">Removing intermediate container e0381eabe71a</span><br><span class="line"> ---&gt; 84fd07f978ae</span><br><span class="line">Step 6/9 : RUN     /bin/<span class="built_in">echo</span> -e <span class="string">&quot;LANG=\&quot;en_US.UTF-8\&quot;&quot;</span> &gt;/etc/default/<span class="built_in">local</span></span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 8d0052d9921f</span><br><span class="line">Removing intermediate container 8d0052d9921f</span><br><span class="line"> ---&gt; 3ed0b248224c</span><br><span class="line">Step 7/9 : EXPOSE  22</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> 4b5d540567cd</span><br><span class="line">Removing intermediate container 4b5d540567cd</span><br><span class="line"> ---&gt; c0a72ad140dd</span><br><span class="line">Step 8/9 : EXPOSE  80</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> c9620707d038</span><br><span class="line">Removing intermediate container c9620707d038</span><br><span class="line"> ---&gt; df42b714ecc1</span><br><span class="line">Step 9/9 : CMD     /usr/sbin/sshd -D</span><br><span class="line"> ---&gt; Running <span class="keyword">in</span> e178826b43fe</span><br><span class="line">Removing intermediate container e178826b43fe</span><br><span class="line"> ---&gt; a733d5a264b5</span><br><span class="line">Successfully built a733d5a264b5</span><br><span class="line">Successfully tagged pdai/ubuntu:v2.0.1</span><br></pre></td></tr></table></figure>

<p>参数说明：</p>
<ul>
<li><code>-t</code> ：指定要创建的目标镜像名</li>
<li><code>.</code> ：Dockerfile 文件所在目录，可以指定Dockerfile 的绝对路径</li>
</ul>
<p>使用docker images 查看创建的镜像已经在列表中存在,镜像ID为a733d5a264b5</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai docker-test]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">pdai/ubuntu         v2.0.1              a733d5a264b5        5 minutes ago       92.5MB</span><br><span class="line">pdai/ubuntu         v1.0.1              b51e9f5f98cd        15 hours ago        92.1MB</span><br><span class="line">mysql               latest              791b6e40940c        2 weeks ago         465MB</span><br><span class="line">ubuntu              latest              ccc6e87d482b        4 weeks ago         64.2MB</span><br></pre></td></tr></table></figure>

<p>我们可以使用新的镜像来创建容器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai docker-test]<span class="comment"># docker run -it pdai/ubuntu:v2.0.1 /bin/bash</span></span><br><span class="line">root@f5332ebce695:/<span class="comment"># id pdai</span></span><br><span class="line">uid=1000(pdai) gid=1000(pdai) groups=1000(pdai)</span><br><span class="line">root@f5332ebce695:/<span class="comment"># exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<p>从上面看到新镜像已经包含我们创建的用户 pdai。</p>
<h3 id="镜像标签"><a href="#镜像标签" class="headerlink" title="镜像标签"></a>镜像标签</h3><blockquote>
<p>设置镜像的Tag，类似于Git中tag？我们可以使用 docker tag 命令，为镜像添加一个新的标签</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker tag a733d5a264b5 pdai/ubuntu:v3.0.1</span></span><br><span class="line">[root@pdai ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">pdai/ubuntu         v2.0.1              a733d5a264b5        9 minutes ago       92.5MB</span><br><span class="line">pdai/ubuntu         v3.0.1              a733d5a264b5        9 minutes ago       92.5MB</span><br><span class="line">pdai/ubuntu         v1.0.1              b51e9f5f98cd        15 hours ago        92.1MB</span><br><span class="line">mysql               latest              791b6e40940c        2 weeks ago         465MB</span><br><span class="line">ubuntu              latest              ccc6e87d482b        4 weeks ago         64.2MB</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li>docker tag 镜像ID，这里是 a733d5a264b5 ,用户名称、镜像源名(repository name)和新的标签名(tag)。</li>
<li>使用 docker images 命令可以看到，ID为a733d5a264b5的镜像多一个v3.0.1标签。</li>
</ul>
<h3 id="镜像导出和导入"><a href="#镜像导出和导入" class="headerlink" title="镜像导出和导入"></a>镜像导出和导入</h3><blockquote>
<p>区别于容器的导出和导入</p>
</blockquote>
<ul>
<li>镜像导出</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker images</span></span><br><span class="line">dockREPOSITORY                   TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">pdai/ubuntu                  v2.0.2              57544a04cd1a        3 months ago        91.5MB</span><br><span class="line">[root@pdai ~]<span class="comment"># docker save &gt; pdai-ubuntu-v2.0.2.tar 57544a04cd1a</span></span><br><span class="line">[root@pdai ~]<span class="comment"># ll | grep pdai-u</span></span><br><span class="line">-rw-rw-r-- 1 root root 93898240 Jun  4 09:06 pdai-ubuntu-v2.0.2.tar</span><br><span class="line">[root@pdai ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<ul>
<li>镜像导入</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load &lt; pdai-ubuntu-v2.0.2.tar</span><br></pre></td></tr></table></figure>

<p>其中<code>-i</code>或者<code>&lt;</code>表示从文件输入。会成功导入镜像及相关元数据，包括tag信息</p>
<blockquote>
<p>可以依据具体使用场景来选择命令</p>
</blockquote>
<ul>
<li>若是只想备份images，使用save、load即可</li>
<li>若是在启动容器后，容器内容有变化，需要备份，则使用export、import</li>
</ul>
<h2 id="Docker-容器"><a href="#Docker-容器" class="headerlink" title="Docker 容器"></a>Docker 容器</h2><blockquote>
<p>上面已经展示了部分容器的使用命令了，这里会在此基础上进行拓展</p>
</blockquote>
<h3 id="容器启动"><a href="#容器启动" class="headerlink" title="容器启动"></a>容器启动</h3><p>首先我们是可以这样启动容器的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai docker-test]<span class="comment"># docker run -it pdai/ubuntu:v2.0.1 /bin/bash</span></span><br><span class="line">root@f5332ebce695:/<span class="comment"># id pdai</span></span><br><span class="line">uid=1000(pdai) gid=1000(pdai) groups=1000(pdai)</span><br><span class="line">root@f5332ebce695:/<span class="comment"># exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>-it</code> 可以连写的，表示 <code>-i -t</code></li>
<li><code>-t</code>: 在新容器内指定一个伪终端或终端。</li>
<li><code>-i</code>: 允许你对容器内的标准输入 (STDIN) 进行交互</li>
</ul>
<h3 id="容器查看"><a href="#容器查看" class="headerlink" title="容器查看"></a>容器查看</h3><ul>
<li><code>-a</code> 表示 all，所有的</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS                      PORTS               NAMES</span><br><span class="line">f5332ebce695        pdai/ubuntu:v2.0.1   <span class="string">&quot;/bin/bash&quot;</span>              20 minutes ago      Exited (0) 20 minutes ago                       jolly_kepler</span><br><span class="line">0a1556ca3c27        ubuntu:latest        <span class="string">&quot;/bin/bash&quot;</span>              16 hours ago        Exited (0) 16 hours ago                         stoic_hodgkin</span><br><span class="line">1a51d2f023c9        ubuntu:latest        <span class="string">&quot;/bin/sh -c &#x27;while t…&quot;</span>   18 hours ago        Exited (137) 18 hours ago                       gifted_brown</span><br><span class="line">414bf796cbe4        ubuntu:latest        <span class="string">&quot;/bin/bash&quot;</span>              18 hours ago        Exited (0) 18 hours ago                         pedantic_galileo</span><br><span class="line">512061ebfa4c        ubuntu:latest        <span class="string">&quot;/bin/bash&quot;</span>              18 hours ago        Exited (0) 18 hours ago                         wizardly_brown</span><br><span class="line">aa5e9ae5e5db        ubuntu:latest        <span class="string">&quot;/bin/echo &#x27;Hello wo…&quot;</span>   18 hours ago        Exited (0) 18 hours ago                         affectionate_knuth</span><br></pre></td></tr></table></figure>

<h3 id="容器再启动"><a href="#容器再启动" class="headerlink" title="容器再启动"></a>容器再启动</h3><blockquote>
<p>我们看到，刚才<code>pdai/ubuntu:v2.0.1</code>的实例<code>f5332ebce695</code>已经停止了<code>Exited (0) 20 minutes ago</code>，我们能否再启这个实例？</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker start f5332ebce695</span></span><br><span class="line">f5332ebce695</span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES</span><br><span class="line">f5332ebce695        pdai/ubuntu:v2.0.1   <span class="string">&quot;/bin/bash&quot;</span>         32 minutes ago      Up 4 seconds        22/tcp, 80/tcp      jolly_kepler</span><br></pre></td></tr></table></figure>

<h3 id="容器停止和重启"><a href="#容器停止和重启" class="headerlink" title="容器停止和重启"></a>容器停止和重启</h3><blockquote>
<p>我们将上述容器停止，再重启</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker stop f5332ebce695</span></span><br><span class="line">f5332ebce695</span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span><br><span class="line">[root@pdai ~]<span class="comment"># docker restart f5332ebce695</span></span><br><span class="line">f5332ebce695</span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS                      PORTS               NAMES</span><br><span class="line">f5332ebce695        pdai/ubuntu:v2.0.1   <span class="string">&quot;/bin/bash&quot;</span>              33 minutes ago      Up 2 seconds                22/tcp, 80/tcp      jolly_kepler</span><br><span class="line">0a1556ca3c27        ubuntu:latest        <span class="string">&quot;/bin/bash&quot;</span>              16 hours ago        Exited (0) 16 hours ago                         stoic_hodgkin</span><br><span class="line">1a51d2f023c9        ubuntu:latest        <span class="string">&quot;/bin/sh -c &#x27;while t…&quot;</span>   18 hours ago        Exited (137) 18 hours ago                       gifted_brown</span><br><span class="line">414bf796cbe4        ubuntu:latest        <span class="string">&quot;/bin/bash&quot;</span>              18 hours ago        Exited (0) 18 hours ago                         pedantic_galileo</span><br><span class="line">512061ebfa4c        ubuntu:latest        <span class="string">&quot;/bin/bash&quot;</span>              18 hours ago        Exited (0) 18 hours ago                         wizardly_brown</span><br><span class="line">aa5e9ae5e5db        ubuntu:latest        <span class="string">&quot;/bin/echo &#x27;Hello wo…&quot;</span>   19 hours ago        Exited (0) 19 hours ago                         affectionate_knuth</span><br></pre></td></tr></table></figure>

<h3 id="后台模式与进入"><a href="#后台模式与进入" class="headerlink" title="后台模式与进入"></a>后台模式与进入</h3><blockquote>
<p>在使用 -d 参数时，容器启动后会进入后台, 如何进入容器呢？</p>
</blockquote>
<ul>
<li>第一种：<code>docker attach</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES</span><br><span class="line">f5332ebce695        pdai/ubuntu:v2.0.1   <span class="string">&quot;/bin/bash&quot;</span>         38 minutes ago      Up 2 seconds        22/tcp, 80/tcp      jolly_kepler</span><br><span class="line">[root@pdai ~]<span class="comment"># docker attach f5332ebce695</span></span><br><span class="line">root@f5332ebce695:/<span class="comment"># echo &#x27;pdai&#x27;</span></span><br><span class="line">pdai</span><br><span class="line">root@f5332ebce695:/<span class="comment"># exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span><br></pre></td></tr></table></figure>

<p>看到没，使用<code>docker attach</code>进入后，exit便容器也停止了。</p>
<ul>
<li>第二种：<code>docker exec</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker exec -it f5332ebce695 /bin/bash</span></span><br><span class="line">Error response from daemon: Container f5332ebce69520fba353f035ccddd4bd42055fbd1e595f916ba7233e26476464 is not running</span><br><span class="line">[root@pdai ~]<span class="comment"># docker restart f5332ebce695</span></span><br><span class="line">f5332ebce695</span><br><span class="line">[root@pdai ~]<span class="comment"># docker exec -it f5332ebce695 /bin/bash</span></span><br><span class="line">root@f5332ebce695:/<span class="comment"># exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES</span><br><span class="line">f5332ebce695        pdai/ubuntu:v2.0.1   <span class="string">&quot;/bin/bash&quot;</span>         42 minutes ago      Up 8 seconds        22/tcp, 80/tcp      jolly_kepler</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li>我特意在容器停止状态下执行了<code>docker exec</code>，是让你看到<code>docker exec</code>是在容器启动状态下用的，且注意下错误信息；</li>
<li>推荐大家使用 <code>docker exec</code> 命令，因为此退出容器终端，不会导致容器的停止。</li>
</ul>
<h3 id="容器导出和导入"><a href="#容器导出和导入" class="headerlink" title="容器导出和导入"></a>容器导出和导入</h3><blockquote>
<p>在生产环境中，很多时候是无法连接外网的，所以有时候需要用到容器的导入和导出。</p>
</blockquote>
<ul>
<li>容器的导出</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES</span><br><span class="line">f5332ebce695        pdai/ubuntu:v2.0.1   <span class="string">&quot;/bin/bash&quot;</span>         42 minutes ago      Up 8 seconds        22/tcp, 80/tcp      jolly_kepler</span><br><span class="line">[root@pdai ~]<span class="comment"># docker export f5332ebce695 &gt; ubuntu-pdai-v2.tar</span></span><br><span class="line">[root@pdai ~]<span class="comment"># ll</span></span><br><span class="line">-rw-rw-r-- 1 root root 93891072 Feb 18 09:42 ubuntu-pdai-v2.tar</span><br></pre></td></tr></table></figure>

<p>同时你可以发现，导出容器的时候，容器无需关闭。</p>
<ul>
<li>容器导入</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker import ubuntu-pdai-v2.tar pdai/ubuntu:v2.0.2</span></span><br><span class="line">sha256:57544a04cd1ad330371ca9142184ff031dc2b6df70df177994477c08fe547b25</span><br><span class="line">[root@pdai ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">pdai/ubuntu         v2.0.2              57544a04cd1a        7 seconds ago       91.5MB</span><br><span class="line">pdai/ubuntu         v2.0.1              a733d5a264b5        About an hour ago   92.5MB</span><br><span class="line">pdai/ubuntu         v3.0.1              a733d5a264b5        About an hour ago   92.5MB</span><br><span class="line">pdai/ubuntu         v1.0.1              b51e9f5f98cd        16 hours ago        92.1MB</span><br><span class="line">mysql               latest              791b6e40940c        2 weeks ago         465MB</span><br><span class="line">ubuntu              latest              ccc6e87d482b        4 weeks ago         64.2MB</span><br></pre></td></tr></table></figure>

<p>注意看，SIZE可能是不一样的。</p>
<h3 id="强制停止容器"><a href="#强制停止容器" class="headerlink" title="强制停止容器"></a>强制停止容器</h3><blockquote>
<p>能否强制删除一个正在运行的容器呢？</p>
</blockquote>
<p>显然，加上<code>-f</code>之后是允许的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES</span><br><span class="line">f5332ebce695        pdai/ubuntu:v2.0.1   <span class="string">&quot;/bin/bash&quot;</span>         About an hour ago   Up 24 minutes       22/tcp, 80/tcp      jolly_kepler</span><br><span class="line">[root@pdai ~]<span class="comment"># docker rm -f f5332ebce695</span></span><br><span class="line">f5332ebce695</span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES</span><br><span class="line">0a1556ca3c27        ubuntu:latest       <span class="string">&quot;/bin/bash&quot;</span>              17 hours ago        Exited (0) 17 hours ago                         stoic_hodgkin</span><br><span class="line">1a51d2f023c9        ubuntu:latest       <span class="string">&quot;/bin/sh -c &#x27;while t…&quot;</span>   19 hours ago        Exited (137) 19 hours ago                       gifted_brown</span><br><span class="line">414bf796cbe4        ubuntu:latest       <span class="string">&quot;/bin/bash&quot;</span>              19 hours ago        Exited (0) 19 hours ago                         pedantic_galileo</span><br><span class="line">512061ebfa4c        ubuntu:latest       <span class="string">&quot;/bin/bash&quot;</span>              19 hours ago        Exited (0) 19 hours ago                         wizardly_brown</span><br><span class="line">aa5e9ae5e5db        ubuntu:latest       <span class="string">&quot;/bin/echo &#x27;Hello wo…&quot;</span>   19 hours ago        Exited (0) 19 hours ago                         affectionate_knuth</span><br></pre></td></tr></table></figure>

<h3 id="清理停止的容器"><a href="#清理停止的容器" class="headerlink" title="清理停止的容器"></a>清理停止的容器</h3><blockquote>
<p>我们看到上面还有好几个容器出于停止状态，能不能删除它们呢？</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES</span><br><span class="line">0a1556ca3c27        ubuntu:latest       <span class="string">&quot;/bin/bash&quot;</span>              17 hours ago        Exited (0) 17 hours ago                         stoic_hodgkin</span><br><span class="line">1a51d2f023c9        ubuntu:latest       <span class="string">&quot;/bin/sh -c &#x27;while t…&quot;</span>   19 hours ago        Exited (137) 19 hours ago                       gifted_brown</span><br><span class="line">414bf796cbe4        ubuntu:latest       <span class="string">&quot;/bin/bash&quot;</span>              19 hours ago        Exited (0) 19 hours ago                         pedantic_galileo</span><br><span class="line">512061ebfa4c        ubuntu:latest       <span class="string">&quot;/bin/bash&quot;</span>              19 hours ago        Exited (0) 19 hours ago                         wizardly_brown</span><br><span class="line">aa5e9ae5e5db        ubuntu:latest       <span class="string">&quot;/bin/echo &#x27;Hello wo…&quot;</span>   19 hours ago        Exited (0) 19 hours ago                         affectionate_knuth</span><br></pre></td></tr></table></figure>

<p>清理停止的容器: <code>docker container prune</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker container prune</span></span><br><span class="line">WARNING! This will remove all stopped containers.</span><br><span class="line">Are you sure you want to <span class="built_in">continue</span>? [y/N] y</span><br><span class="line">Deleted Containers:</span><br><span class="line">0a1556ca3c275cc692ecd6d19caed4c5be42578f81b3dfea52b24208790d160a</span><br><span class="line">1a51d2f023c947f2be2d9a78eb863e854ca302c89bf354654c409e23e7dd25d7</span><br><span class="line">414bf796cbe403e01b5414f2b6232c6a037af78deee4581f4935c94859b5164e</span><br><span class="line">512061ebfa4c340eb03833e54d77052e33fb62cd42ab7dd7e09bf0b02a761552</span><br><span class="line">aa5e9ae5e5db1760bdb8c7ddb92e4293cd7b4736be7e97314f3ef44a71bf8930</span><br><span class="line"></span><br><span class="line">Total reclaimed space: 27.93MB</span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</span><br></pre></td></tr></table></figure>

<h3 id="容器别名及操作"><a href="#容器别名及操作" class="headerlink" title="容器别名及操作"></a>容器别名及操作</h3><blockquote>
<p>我们上述对容器的操作都是针对容器ID，这个ID是随机的，能否添加一个name对我们自己设置的name操作呢？</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker run -itd --name pdai-ubuntu-202 pdai/ubuntu:v2.0.2 /bin/bash</span></span><br><span class="line">11de9755a08402d963d263a559a7daf48f4a2188398f258641240b5eb50fbc89</span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES</span><br><span class="line">11de9755a084        pdai/ubuntu:v2.0.2   <span class="string">&quot;/bin/bash&quot;</span>         5 seconds ago       Up 4 seconds                            pdai-ubuntu-202</span><br><span class="line">[root@pdai ~]<span class="comment"># docker stop pdai-ubuntu-202</span></span><br><span class="line">pdai-ubuntu-202</span><br><span class="line">[root@pdai ~]<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID        IMAGE                COMMAND              CREATED              STATUS                     PORTS               NAMES</span><br><span class="line">11de9755a084        pdai/ubuntu:v2.0.2   <span class="string">&quot;/bin/bash&quot;</span>          26 seconds ago       Exited (0) 4 seconds ago                       pdai-ubuntu-202   </span><br></pre></td></tr></table></figure>

<h3 id="容器错误日志"><a href="#容器错误日志" class="headerlink" title="容器错误日志"></a>容器错误日志</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">例：实时查看docker容器名为user-uat的最后10行日志</span><br><span class="line">docker logs -f -t --tail 10 user-uat</span><br><span class="line"></span><br><span class="line">例：查看指定时间后的日志，只显示最后100行：</span><br><span class="line">docker logs -f -t --since=<span class="string">&quot;2018-02-08&quot;</span> --tail=100 user-uat</span><br><span class="line"></span><br><span class="line">例：查看最近30分钟的日志:</span><br><span class="line">docker logs --since 30m user-uat</span><br><span class="line"></span><br><span class="line">例：查看某时间之后的日志：</span><br><span class="line">docker logs -t --since=<span class="string">&quot;2018-02-08T13:23:37&quot;</span> user-uat</span><br><span class="line"></span><br><span class="line">例：查看某时间段日志：</span><br><span class="line">docker logs -t --since=<span class="string">&quot;2018-02-08T13:23:37&quot;</span> --until <span class="string">&quot;2018-02-09T12:23:37&quot;</span> user-uat</span><br><span class="line"></span><br><span class="line">例：将错误日志写入文件：</span><br><span class="line">docker logs -f -t --since=<span class="string">&quot;2018-02-18&quot;</span> user-uat | grep error &gt;&gt; logs_error.txt</span><br></pre></td></tr></table></figure>

<h2 id="Docker-仓库"><a href="#Docker-仓库" class="headerlink" title="Docker 仓库"></a>Docker 仓库</h2><p>仓库（Repository）是集中存放镜像的地方，它和我们的Maven仓库是一样的。以下介绍一下 Docker Hub。当然不止 docker hub，只是远程的服务商不一样，操作都是一样的。</p>
<ul>
<li>可以采用共有的仓库，也可以自己搭建Docker Registry;</li>
<li>如果之前有自己的Artifactory或者Nexus，它们同样可以支持Docker Registry功能;</li>
<li>带界面的也可以使用Harbor等;</li>
</ul>
<h3 id="公有仓库"><a href="#公有仓库" class="headerlink" title="公有仓库"></a>公有仓库</h3><blockquote>
<p>我们以官方的docker hub为例，进行注册和理解。很多人会说官方的速度极慢或者私有仓库上传慢，不试试你怎么知道呢？</p>
</blockquote>
<ul>
<li><strong>注册官方docker hub</strong>，最新的名字叫docker cloud</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://hub.docker.com/">https://hub.docker.com/</a></p>
<p>我注册的用户名是 realpdai</p>
<ul>
<li><strong>本地登录</strong>刚才注册的账户</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker login</span></span><br><span class="line">Login with your Docker ID to push and pull images from Docker Hub. If you don<span class="string">&#x27;t have a Docker ID, head over to https://hub.docker.com to create one.</span></span><br><span class="line"><span class="string">Username: realpdai</span></span><br><span class="line"><span class="string">Password:</span></span><br><span class="line"><span class="string">WARNING! Your password will be stored unencrypted in /root/.docker/config.json.</span></span><br><span class="line"><span class="string">Configure a credential helper to remove this warning. See</span></span><br><span class="line"><span class="string">https://docs.docker.com/engine/reference/commandline/login/#credentials-store</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Login Succeeded</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>镜像准备</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker tag pdai/ubuntu:v2.0.2 realpdai/ubuntu:v2.0.2</span></span><br><span class="line">[root@pdai ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">pdai/ubuntu         v2.0.2              57544a04cd1a        4 hours ago         91.5MB</span><br><span class="line">realpdai/ubuntu     v2.0.2              57544a04cd1a        4 hours ago         91.5MB</span><br><span class="line">pdai/ubuntu         v2.0.1              a733d5a264b5        5 hours ago         92.5MB</span><br><span class="line">pdai/ubuntu         v3.0.1              a733d5a264b5        5 hours ago         92.5MB</span><br><span class="line">pdai/ubuntu         v1.0.1              b51e9f5f98cd        21 hours ago        92.1MB</span><br><span class="line">mysql               latest              791b6e40940c        2 weeks ago         465MB</span><br><span class="line">ubuntu              latest              ccc6e87d482b        4 weeks ago         64.2MB</span><br></pre></td></tr></table></figure>

<ul>
<li>推送至Docker Hub服务器</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@pdai ~]<span class="comment"># docker push realpdai/ubuntu:v2.0.2</span></span><br><span class="line">The push refers to repository [docker.io/realpdai/ubuntu]</span><br><span class="line">9a2c43cbe02a: Pushed</span><br><span class="line">v2.0.2: digest: sha256:4afd82dd05d0b4a340ae4f4129dcbd63136b5ec7ff92edf313108a41fb0947e0 size: 528</span><br></pre></td></tr></table></figure>

<p>从推送的速度来看，大概是1.5MB/s。</p>
<ul>
<li>服务器端查看</li>
</ul>
<p><img src="https://img.doge.sh.cn/assets/1687850932626RwfHS5cZ.png" alt="img"></p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2022/05/03/Centos-常用命令/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2021/12/10/Java-集合框架-『2』/" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">Comments</h2>

    
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2022-04-03 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/分类/">分类<span>2</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/标签/">标签<span>2</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Docker-%E9%95%9C%E5%83%8F"><span class="toc-article-text">Docker 镜像</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E9%95%9C%E5%83%8F%E5%88%97%E8%A1%A8"><span class="toc-article-text">镜像列表</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E6%9F%A5%E6%89%BE%E9%95%9C%E5%83%8F"><span class="toc-article-text">查找镜像</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F"><span class="toc-article-text">拉取镜像</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%88%A0%E9%99%A4%E9%95%9C%E5%83%8F"><span class="toc-article-text">删除镜像</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E6%9B%B4%E6%96%B0%E9%95%9C%E5%83%8F"><span class="toc-article-text">更新镜像</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E7%94%9F%E6%88%90%E9%95%9C%E5%83%8F"><span class="toc-article-text">生成镜像</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E9%95%9C%E5%83%8F%E6%A0%87%E7%AD%BE"><span class="toc-article-text">镜像标签</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E9%95%9C%E5%83%8F%E5%AF%BC%E5%87%BA%E5%92%8C%E5%AF%BC%E5%85%A5"><span class="toc-article-text">镜像导出和导入</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Docker-%E5%AE%B9%E5%99%A8"><span class="toc-article-text">Docker 容器</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%AE%B9%E5%99%A8%E5%90%AF%E5%8A%A8"><span class="toc-article-text">容器启动</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%AE%B9%E5%99%A8%E6%9F%A5%E7%9C%8B"><span class="toc-article-text">容器查看</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%AE%B9%E5%99%A8%E5%86%8D%E5%90%AF%E5%8A%A8"><span class="toc-article-text">容器再启动</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%AE%B9%E5%99%A8%E5%81%9C%E6%AD%A2%E5%92%8C%E9%87%8D%E5%90%AF"><span class="toc-article-text">容器停止和重启</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%90%8E%E5%8F%B0%E6%A8%A1%E5%BC%8F%E4%B8%8E%E8%BF%9B%E5%85%A5"><span class="toc-article-text">后台模式与进入</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%AE%B9%E5%99%A8%E5%AF%BC%E5%87%BA%E5%92%8C%E5%AF%BC%E5%85%A5"><span class="toc-article-text">容器导出和导入</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%BC%BA%E5%88%B6%E5%81%9C%E6%AD%A2%E5%AE%B9%E5%99%A8"><span class="toc-article-text">强制停止容器</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E6%B8%85%E7%90%86%E5%81%9C%E6%AD%A2%E7%9A%84%E5%AE%B9%E5%99%A8"><span class="toc-article-text">清理停止的容器</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%AE%B9%E5%99%A8%E5%88%AB%E5%90%8D%E5%8F%8A%E6%93%8D%E4%BD%9C"><span class="toc-article-text">容器别名及操作</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%AE%B9%E5%99%A8%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97"><span class="toc-article-text">容器错误日志</span></a></li></ol></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Docker-%E4%BB%93%E5%BA%93"><span class="toc-article-text">Docker 仓库</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%85%AC%E6%9C%89%E4%BB%93%E5%BA%93"><span class="toc-article-text">公有仓库</span></a></li></ol></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2023 icetea
  
      with help from <a>Hexo</a>,<a>Freemind</a>,<a>Twitter Bootstrap</a> and <a>BOOTSTRA.386</a>. 
     <br> Theme by <a>Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
